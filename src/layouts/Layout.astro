---
import '@/styles/global.css';
import { getLangFromUrl, useTranslations } from '@/i18n/utils';
import { injectSpeedInsights } from "@vercel/speed-insights"
interface Props {
	title: string;
}

const { title } = Astro.props;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

injectSpeedInsights({framework: 'astro'});
---

<!DOCTYPE html>
<html lang={lang}>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<meta name="description" content={t('brand.description')}>
		<meta
			name="keywords"
			content="Al-Quran Bahasa Indonesia, Baca Al-Quran, Al-Quran, Al-Quran Terjemahan, Belajar, Menghafal Al-Quran, Aplikasi Al-Quran"
		/>
		<link rel="canonical" href={Astro.url.href} />
		<title>{title}</title>
		
		<meta property="og:type" content="website" />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={t('brand.description')} />
		<meta property="og:url" content="https://kelaspondok.com/" />
		<meta property="og:image" content="https://res.cloudinary.com/ekosutrisno/image/upload/v1689821187/os/A/web_light_vnup9u.webp" />
		<meta property="og:image:alt" content={title} />
		<meta property="og:image:width" content="2880" />
		<meta property="og:image:height" content="1771" />

		<script is:inline src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8/dist/vanilla-tilt.min.js"></script>
		<script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
		<script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
		<script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/animation.gsap.min.js"></script>
		
		<script type="text/partytown" src="https://www.googletagmanager.com/gtag/js?id=G-24T61SCEPC"></script>
		<script type="text/partytown">
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag("js", new Date());
			gtag("config", "G-24T61SCEPC");
		</script>
	</head>
	<body class="bg-gray-50 dark:bg-gray-900">
		<slot />
		<button id="theme-toggle" type="button" aria-label="Name" class="fixed bottom-5 right-5 md:bottom-10 md:right-10 mx-auto text-gray-500 dark:text-gray-400 bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 hover:dark:bg-gray-600 focus:outline-none ring-1 backdrop-blur-sm ring-gray-200 dark:ring-gray-600 rounded-lg text-sm p-2">
			<svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
			<svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
		</button>
		<script is:inline src="/dark-mode.js"></script>
		<script is:inline src="/scroll-magic.js"></script>
		<script lang="js">
			VanillaTilt.init(document.querySelectorAll(".tilt"),{
				max: 10,
				speed:300
			});
		</script>
	</body>
</html>
